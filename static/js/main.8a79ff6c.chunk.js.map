{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/AppLoader.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchForm__button","SearchForm__label","SearchForm__input","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","modalRoot","document","getElementById","Modal","modalSource","modalDescription","onClose","useEffect","handleEscClose","code","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","target","src","alt","ImageGalleryItem","id","source","description","dataOriginal","showModal","setShowModal","toggleModal","ImageGalleryItem__image","ImageGallery","images","map","webformatURL","tags","largeImageURL","Button","children","AppLoader","loader","color","height","width","timeout","App","hits","setHits","loading","setLoading","page","setPage","total","setTotal","setError","query","setQuery","fetchImages","a","url","console","log","fetch","then","response","ok","json","data","catch","prevHits","message","finally","prevPage","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8a79ff6c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3VOth\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2DFZx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2wi_z\",\"Modal\":\"Modal_Modal__2zlxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1qKHN\"};","import React, { useState } from 'react';\r\n\r\nimport s from 'components/Searchbar/Searchbar.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (searchQuery.trim() === '') {\r\n      toast.error('Please type the query', {\r\n        position: 'top-right',\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    onSubmit(searchQuery);\r\n    setSearchQuery('');\r\n  };\r\n  const handleQueryChange = e => {\r\n    setSearchQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"searchQuery\"\r\n            value={searchQuery}\r\n            onChange={handleQueryChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };\r\n","import React, { useEffect } from 'react';\r\n\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nfunction Modal({ modalSource, modalDescription, onClose }) {\r\n  useEffect(() => {\r\n    const handleEscClose = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEscClose);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEscClose);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleOverlayClick}>\r\n      <div className={s.Modal}>\r\n        <img src={modalSource} alt={modalDescription} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  modalSource: PropTypes.string,\r\n  modalDescription: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport { Modal };\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nimport { Modal } from 'components/Modal/Modal';\r\n\r\nfunction ImageGalleryItem({ id, source, description, dataOriginal }) {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n  return (\r\n    <>\r\n      <li key={id} className={s.ImageGalleryItem} onClick={toggleModal}>\r\n        <img\r\n          src={source}\r\n          alt={description}\r\n          className={s.ImageGalleryItem__image}\r\n        />\r\n      </li>\r\n      {showModal && (\r\n        <Modal\r\n          modalSource={dataOriginal}\r\n          modalDescription={description}\r\n          onClose={toggleModal}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  dataOriginal: PropTypes.string,\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  source: PropTypes.string,\r\n  description: PropTypes.string,\r\n};\r\n\r\nexport { ImageGalleryItem };\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          source={webformatURL}\r\n          description={tags}\r\n          dataOriginal={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n};\r\n\r\nexport { ImageGallery };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/Button/Button.module.css';\r\n\r\nfunction Button({ children, onClick, id }) {\r\n  return (\r\n    <button id={id} type=\"button\" className={s.Button} onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  children: PropTypes.any,\r\n  onClick: PropTypes.func,\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n};\r\n\r\nexport { Button };\r\n","import React from 'react';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default function AppLoader() {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={80}\r\n      width={80}\r\n      timeout={3000}\r\n    />\r\n  );\r\n}\r\n","import './App.css';\nimport React, { useState, useEffect } from 'react';\n\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { ToastContainer } from 'react-toastify';\nimport { Button } from 'components/Button/Button';\nimport AppLoader from 'components/Loader/AppLoader';\n\nconst API_KEY = '23531219-4793e7ad626a6d166b9f03b8c';\n\nfunction App() {\n  const [hits, setHits] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(1);\n  const [error, setError] = useState(null);\n  const [query, setQuery] = useState('');\n\n  useEffect(() => {\n    const fetchImages = async () => {\n      setLoading(true);\n\n      let url = `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n      console.log(url);\n\n      return await fetch(url)\n        .then(response => {\n          if (response.ok) {\n            // console.log('response', response);\n            return response.json();\n          }\n        })\n        .then(data => data)\n        .catch(error => console.log(error));\n    };\n\n    if (!query) {\n      return;\n    }\n\n    setQuery(query);\n\n    fetchImages({ query, page })\n      .then(({ total, hits }) => {\n        setHits(prevHits => [...prevHits, ...hits]);\n        setTotal(total);\n      })\n      .catch(error => setError(error.message))\n      .finally(() => setLoading(false));\n  }, [page, query]);\n\n  const onQueryChange = query => {\n    setQuery(query);\n    setPage(1);\n    setHits([]);\n    setError(null);\n  };\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={onQueryChange} />\n\n      {error && <p>Oops, error... Try again</p>}\n\n      {loading && <AppLoader />}\n\n      {total === 0 && <div>Nothing was found on {query}</div>}\n\n      <ImageGallery images={hits} />\n\n      {total > 12 && (\n        <Button id=\"loadmore\" onClick={loadMore}>\n          Load more\n        </Button>\n      )}\n\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2YnQd\",\"SearchForm\":\"Searchbar_SearchForm__17mwy\",\"SearchForm__button\":\"Searchbar_SearchForm__button__36mNH\",\"SearchForm__label\":\"Searchbar_SearchForm__label__uzo0C\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3uYN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3bo0w\",\"loader\":\"ImageGallery_loader__3cGZL\"};"],"sourceRoot":""}