(this["webpackJsonpreact-4-hooks-images"]=this["webpackJsonpreact-4-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3VOth",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__2DFZx"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2wi_z",Modal:"Modal_Modal__2zlxD"}},16:function(e,t,a){e.exports={Button:"Button_Button__1qKHN"}},22:function(e,t,a){},24:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),o=a.n(c),i=(a(22),a(14)),s=a(11),l=a.n(s),u=a(15),m=a(3),b=(a(24),a(5)),j=a.n(b),d=a(9),h=(a(25),a(1));function _(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("header",{className:j.a.Searchbar,children:Object(h.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):d.b.error("Please type the query",{position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(h.jsx)("button",{type:"submit",className:j.a.SearchForm__button,children:Object(h.jsx)("span",{className:j.a.SearchForm__label,children:"Search"})}),Object(h.jsx)("input",{className:j.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchQuery",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})})}var O=a(8),f=a.n(O),p=a(12),g=a.n(p),x=a(13),S=a.n(x),y=document.getElementById("modal-root");function v(e){var t=e.modalSource,a=e.modalDescription,n=e.onClose;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return Object(c.createPortal)(Object(h.jsx)("div",{className:S.a.Overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(h.jsx)("div",{className:S.a.Modal,children:Object(h.jsx)("img",{src:t,alt:a})})}),y)}function I(e){var t=e.id,a=e.source,n=e.description,c=e.dataOriginal,o=Object(r.useState)(!1),i=Object(m.a)(o,2),s=i[0],l=i[1],u=function(){l(!s)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:g.a.ImageGalleryItem,onClick:u,children:Object(h.jsx)("img",{src:a,alt:n,className:g.a.ImageGalleryItem__image})},t),s&&Object(h.jsx)(v,{modalSource:c,modalDescription:n,onClose:u})]})}function w(e){var t=e.images;return Object(h.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.tags,n=e.largeImageURL;return Object(h.jsx)(I,{source:a,description:r,dataOriginal:n},t)}))})}var N=a(16),F=a.n(N);function k(e){var t=e.children,a=e.onClick,r=e.id;return Object(h.jsx)("button",{id:r,type:"button",className:F.a.Button,onClick:a,children:t})}a(27);var G=a(17),C=a.n(G);function B(){return Object(h.jsx)(C.a,{className:f.a.loader,type:"TailSpin",color:"#3f51b5",height:80,width:80,timeout:3e3})}var E=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(m.a)(c,2),s=o[0],b=o[1],j=Object(r.useState)(1),O=Object(m.a)(j,2),f=O[0],p=O[1],g=Object(r.useState)(1),x=Object(m.a)(g,2),S=x[0],y=x[1],v=Object(r.useState)(null),I=Object(m.a)(v,2),N=I[0],F=I[1],G=Object(r.useState)(""),C=Object(m.a)(G,2),E=C[0],L=C[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t="https://pixabay.com/api/?q=".concat(E,"&page=").concat(f,"&key=").concat("23531219-4793e7ad626a6d166b9f03b8c","&image_type=photo&orientation=horizontal&per_page=12"),console.log(t),e.next=5,fetch(t).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();E&&(L(E),e({query:E,page:f}).then((function(e){var t=e.total,a=e.hits;n((function(e){return[].concat(Object(i.a)(e),Object(i.a)(a))})),y(t)})).catch((function(e){return F(e.message)})).finally((function(){return b(!1)})))}),[f,E]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(_,{onSubmit:function(e){L(e),p(1),n([]),F(null)}}),N&&Object(h.jsx)("p",{children:"Oops, error... Try again"}),s&&Object(h.jsx)(B,{}),0===S&&Object(h.jsxs)("div",{children:["Nothing was found on ",E]}),Object(h.jsx)(w,{images:a}),S>12&&Object(h.jsx)(k,{id:"loadmore",onClick:function(){p((function(e){return e+1}))},children:"Load more"}),Object(h.jsx)(d.a,{})]})};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2YnQd",SearchForm:"Searchbar_SearchForm__17mwy",SearchForm__button:"Searchbar_SearchForm__button__36mNH",SearchForm__label:"Searchbar_SearchForm__label__uzo0C",SearchForm__input:"Searchbar_SearchForm__input__3uYN0"}},8:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3bo0w",loader:"ImageGallery_loader__3cGZL"}}},[[48,1,2]]]);
//# sourceMappingURL=main.8a79ff6c.chunk.js.map