{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/AppLoader.jsx","services/api.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","toast","error","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleQueryChange","currentTarget","value","toLowerCase","this","className","s","SearchForm","type","SearchForm__button","SearchForm__label","SearchForm__input","autoComplete","autoFocus","placeholder","name","onChange","Component","modalRoot","document","getElementById","Modal","handleEscClose","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","modalSource","modalDescription","createPortal","Overlay","onClick","src","alt","ImageGalleryItem","showModal","toggleModal","source","description","id","dataOriginal","ImageGalleryItem__image","Button","children","AppLoader","loader","color","height","width","timeout","api","fetchImages","pageNumber","url","console","log","fetch","then","response","ok","json","data","catch","ImageGallery","hits","totalHits","loading","page","loadMore","prevState","prevProps","prevQuery","newQuery","prevPage","newPage","finally","map","webformatURL","tags","largeImageURL","length","App","handleFormSubmit","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.24468679.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3VOth\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2DFZx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2wi_z\",\"Modal\":\"Modal_Modal__2zlxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1qKHN\"};","import React, { Component } from 'react';\r\n\r\nimport s from 'components/Searchbar/Searchbar.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchQuery.trim() === '') {\r\n      toast.error('Please type the query', {\r\n        position: 'top-right',\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  handleQueryChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm__button}>\r\n              <span className={s.SearchForm__label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchForm__input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              name=\"searchQuery\"\r\n              value={searchQuery}\r\n              onChange={this.handleQueryChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport { Searchbar };\r\n","import React, { Component } from 'react';\r\n\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscClose);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscClose);\r\n  }\r\n\r\n  handleEscClose = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modalSource, modalDescription } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={modalSource} alt={modalDescription} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  modalSource: PropTypes.string,\r\n  modalDescription: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport { Modal };\r\n","import React, { Component } from 'react';\r\n\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Modal } from 'components/Modal/Modal';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = { showModal: false };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { source, description, id, dataOriginal } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <>\r\n        <li key={id} className={s.ImageGalleryItem} onClick={this.toggleModal}>\r\n          <img\r\n            src={source}\r\n            alt={description}\r\n            className={s.ImageGalleryItem__image}\r\n          />\r\n        </li>\r\n        {showModal && (\r\n          <Modal\r\n            modalSource={dataOriginal}\r\n            modalDescription={description}\r\n            onClose={this.toggleModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  dataOriginal: PropTypes.string,\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  source: PropTypes.string,\r\n  description: PropTypes.string,\r\n};\r\n\r\nexport { ImageGalleryItem };\r\n","import React from 'react';\r\nimport PropTypes, { any } from 'prop-types';\r\n\r\nimport s from 'components/Button/Button.module.css';\r\n\r\nconst Button = ({ children, onClick, id }) => (\r\n  <button id={id} type=\"button\" className={s.Button} onClick={onClick}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  children: PropTypes.any,\r\n  onClick: PropTypes.func,\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n};\r\n\r\nexport { Button };\r\n","import React from 'react';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport default function AppLoader() {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={80}\r\n      width={80}\r\n      timeout={3000}\r\n    />\r\n  );\r\n}\r\n","const API_KEY = '23531219-4793e7ad626a6d166b9f03b8c';\r\n\r\nconst api = {\r\n  async fetchImages(searchQuery, pageNumber) {\r\n    let url = `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n    console.log(url);\r\n\r\n    return await fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          // console.log(response);\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        // console.log(data.hits);\r\n\r\n        return data;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport { Button } from 'components/Button/Button';\r\nimport AppLoader from 'components/Loader/AppLoader';\r\nimport api from 'services/api';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    hits: [],\r\n    totalHits: '',\r\n    loading: false,\r\n    page: 1,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.searchQuery;\r\n    const newQuery = this.props.searchQuery;\r\n    const prevPage = prevState.page;\r\n    const newPage = this.state.page;\r\n\r\n    if (prevQuery !== newQuery) {\r\n      this.setState({ loading: true, hits: [], page: 1 });\r\n      api\r\n        .fetchImages(newQuery, newPage)\r\n        .then(({ totalHits, hits }) => this.setState({ totalHits, hits }))\r\n        .catch(error => console.log(error))\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n\r\n    if (prevPage !== newPage) {\r\n      api\r\n        .fetchImages(prevQuery, this.state.page)\r\n        .then(({ hits }) =>\r\n          this.setState(prevState => ({\r\n            hits: [...prevState.hits, ...hits],\r\n          })),\r\n        )\r\n        .catch(error => console.log(error));\r\n    }\r\n  }\r\n\r\n  loadMore = () => {\r\n    this.setState(prevState => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  render() {\r\n    const { hits, loading, totalHits } = this.state;\r\n    return (\r\n      <>\r\n        {loading && <AppLoader />}\r\n        {totalHits === 0 && (\r\n          <div>Nothing was found on {this.props.searchQuery}</div>\r\n        )}\r\n        <ul className={s.ImageGallery}>\r\n          {hits.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              source={webformatURL}\r\n              description={tags}\r\n              dataOriginal={largeImageURL}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {hits.length > 0 && (\r\n          <Button id=\"loadmore\" onClick={this.loadMore}>\r\n            Load more\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n\r\nexport { ImageGallery };\r\n","import './App.css';\r\n\r\nimport React, { Component } from 'react';\r\n\r\nimport { Searchbar } from 'components/Searchbar/Searchbar';\r\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n  handleFormSubmit = searchQuery => {\r\n    this.setState({ searchQuery });\r\n    console.log(searchQuery);\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery searchQuery={searchQuery} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2YnQd\",\"SearchForm\":\"Searchbar_SearchForm__17mwy\",\"SearchForm__button\":\"Searchbar_SearchForm__button__36mNH\",\"SearchForm__label\":\"Searchbar_SearchForm__label__uzo0C\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3uYN0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3bo0w\",\"loader\":\"ImageGallery_loader__3cGZL\"};"],"sourceRoot":""}